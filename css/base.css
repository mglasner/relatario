/* Base — fuentes, variables, reset, utilidades */

/* --- Fuentes locales --- */

@font-face {
    font-family: Lora;
    font-style: normal;
    font-weight: 400 700;
    font-display: swap;
    src: url('../assets/fonts/lora-variable-latin.woff2') format('woff2');
}

@font-face {
    font-family: Quicksand;
    font-style: normal;
    font-weight: 400 700;
    font-display: swap;
    src: url('../assets/fonts/quicksand-variable-latin.woff2') format('woff2');
}

:root {
    /* Fuentes */
    --font-display: lora, serif;
    --font-body: quicksand, sans-serif;

    /* Tema base — biblioteca cálida */
    --color-fondo: #f5ead6;
    --color-superficie: #efe0c8;
    --color-oscuro: #d4c4a8;
    --color-accent: #c8864a;
    --color-accent-hover: #a06830;
    --color-texto: #3a2a1a;
    --color-texto-secundario: #6b5a4a;
    --color-texto-tenue: #8a7a6a;
    --color-texto-apagado: #9a8a7a;
    --color-texto-muy-apagado: #aa9a8a;
    --color-borde: #c8b89a;
    --color-borde-claro: #d8c8aa;
    --color-dorado: #c8a050;

    /* Radios */
    --radio-tarjeta: 15px;
    --radio-boton: 8px;
}

/* Tema oscuro para modo juego */
body.modo-juego #biblioteca {
    display: none;
}

body.modo-juego {
    --color-fondo: #1a1a2e;
    --color-superficie: #16213e;
    --color-oscuro: #0d0d1a;
    --color-accent: #e94560;
    --color-accent-hover: #c73652;
    --color-texto: #e0e0e0;
    --color-texto-secundario: #a0a0b0;
    --color-texto-tenue: #888;
    --color-texto-apagado: #666;
    --color-texto-muy-apagado: #555;
    --color-borde: #333;
    --color-borde-claro: #444;
    --color-dorado: #ffd700;
}

html {
    overflow: hidden;
    overscroll-behavior: none;
}

body {
    margin: 0;
    padding: 0;
    background-color: var(--color-fondo);
    color: var(--color-texto);
    font-family: var(--font-body);
    overflow: hidden;
    height: 100dvh;
}

#juego {
    max-width: 800px;
    margin: 0 auto;
    padding: 12px 20px;
    text-align: center;
    height: 100dvh;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
}

/* En modo biblioteca: sin restricción de ancho para la escena inmersiva */
body:not(.modo-juego) #juego {
    max-width: none;
    padding: 0;
}

#juego.juego-inmersivo {
    max-width: none;
    padding: 10px;
}

#juego.juego-inmersivo .barra-superior {
    max-width: var(--ancho-3d);
    margin-inline: auto;
}

h1 {
    font-family: var(--font-display);
    font-size: 2.5rem;
    color: white;
    letter-spacing: 0.04em;
}

/* --- Utilidades --- */

.oculto {
    display: none !important;
}

/* Skip-link para accesibilidad: visible solo con foco de teclado */
.skip-link {
    position: absolute;
    top: -100%;
    left: 50%;
    transform: translateX(-50%);
    padding: 0.5rem 1rem;
    background: var(--color-oscuro, #d4c4a8);
    color: var(--color-texto, #3a2a18);
    border-radius: 0 0 8px 8px;
    z-index: 9999;
    font-family: var(--font-body, sans-serif);
    font-weight: 600;
    text-decoration: none;
}

.skip-link:focus {
    top: 0;
}

/* --- Responsive --- */

@media (width <= 768px) {
    #juego {
        padding: 30px 16px;
    }

    h1 {
        font-size: 2rem;
    }
}

@media (width <= 480px) {
    #juego {
        padding: 8px;
    }
}

/* Reducir animaciones pesadas si el usuario lo prefiere */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}
